<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script type="text/javascript">
    function fn() {
        var i = 0;
        return function (n) {
            console.log(n + (++i));
        }
    }

//    var f = fn();
//    f(5);
//    f(6);
//    fn()(5);
//    fn()(6);


    //函数执行,在形成的私有作用域中返回了一个引用数据类型值,如果在外面有一个变量接收了这个值(外面变量占用了这里面的东西)，当前这个作用域就不能销毁了;
    //如果外面并没有变量接收，则当前的这个作用域是不立即销毁，当浏览器空闲的时候（心情好的时候）在进行销毁







    //浏览器是有自己的内存回收机制的(不同的浏览器是不一样的)
    //谷歌：
    //开一个内存有一个地址，浏览器看当前这个地址都谁知道(看哪个变量存储了这个地址)，只要有一个知道的，当前的这个内存就不能销毁，但是如果一个知道的都没有，浏览器在空闲的时候，会进行清除
    //var obj={};//obj=xxxfff000
    //obj=null;//把obj存储的地址清除，这样以后就没有人知道这个地址了，浏览器心情好的时候会自动的进行清除

    //火狐和IE：
    //开一个内存，有一个变量引用这个内存的话，我们就在内存的计数器上累加1，当我们把变量的这个地址清除的时候，计数器减少1，当计数器为0的时候，浏览器清除这个内存
    //var obj={}; 开一个内存，计数器=1
    //obj=null; 计数器=0 浏览器销毁这个内存
</script>
</body>
</html>