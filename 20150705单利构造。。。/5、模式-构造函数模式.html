<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>构造函数模式</title>
</head>
<body>
<script type="text/javascript">
    //js是一门轻量级的脚本编程语言-->面向对象开发[类的继承、封装、多态]
    //对象:js中万物皆对象
    //类：对象的具体细分
    //实例：类中一个具体的东西

    //在自然界中万物皆对象,它是一个泛指
    //类是对自然界万物的一个划分:人类、动物类、植物类、物体类...
    //实例是每一个类中具体的事物，我们每一个人都是人类中的一个实例


    //js中类：内置类(浏览器天生自带供我们用的)、自定义类(我们自己写的)
    //内置类：
    //Object(对象类)、Array(数组类)、RegExp(正则类)、String(字符串类)、Date(时间类)、Math(数学函数)、Function(函数类)、Node(节点类)、Element(元素类)...
    //每一个对象数据类型都是Object类的一个实例
    //每一个数组都是Array类的一个实例
    //每一个字符串都是String类的一个实例
    //....

    //var ary=[];//字面量方式 ary是Array这个类的一个实例
    //var ary=new Array();//实例创建-->构造函数模式创建


    //    function fn(){
    //
    //    }
    //    //var res=fn();//普通函数执行-->fn是函数  默认返回值是undefined
    //    var res=new fn();//构造函数模式执行-->fn是类  默认返回一个对象数据类型，这个对象数据类型就是fn这个类的一个实例
    //    console.log(typeof res);//"object"


    function CreateJsPerson(name, age) {
        var total = 0;//私有变量
        this.name = name;
        this.age = age;
        this.writeJs = function () {
            console.log("我的名字是:" + this.name + "，我会写js啦！");
        }
    }
    var p1 = new CreateJsPerson("申立莎", 18);
    console.dir(p1);
    p1.writeJs();


    //1、执行：
    // 普通函数-->createJsPerson();
    // 构造函数-->new createJsPerson(); 通过new执行的，我们把函数名叫做类名，把执行的返回结果叫做这个类的一个实例

    //2、运行：
    // 普通函数--> 形成一个私有的作用域--形参赋值--预解释--代码执行
    // 构造函数--> 形成一个私有的作用域--在私有作用域中,首先浏览器会默认的创建一个对象数据类型的数据(就是我们这个类的实例)--形参赋值--预解释--代码执行(以当前实例为执行的主体[说明函数中的this是当前的实例]，把属性和方法赋值给这个实例)
    // 构造函数模式既有普通函数执行时候的那一面，又有自己单独的一面

    //以上就是我们的构造函数模式，CreateJsPerson是一个类，p1是这个类的一个实例，p1继承CreateJsPerson这个类中的所有的属性和方法（私有和公有的），函数体中写在this上的是私有的属性


    //细节点:
    //1、console.log(p1.total);//total是CreateJsPerson函数中的一个私有的变量和我们的实例没啥关系,和实例有关系的都是定义在this上的
    //2、构造函数模式中，我们浏览器会默认创建一个实例，并且返回，我们不需要手写return也可以；如果我们手写了return，返回的是基本数据类型值没有任何的影响，但是如果是引用数据类型值，会把默认返回的实例进行覆盖(构造函数模式中最好别加返回值)


    //类的数据类型："function"   typeof Array=="function"
    //实例的数据类型："object"   typeof p1=="object"
    //对象数据类型具体的细分是每一个类的实例
</script>
</body>
</html>